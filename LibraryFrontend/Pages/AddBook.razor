@page "/Book/add"
@using LibraryBackend.Shared
@using LibraryFrontend.Services
@inject IBookService BookService
@inject NavigationManager NavMan
@using LibraryFrontend.Components

<PageTitle>@Title</PageTitle>
<h3>@Title</h3>

<AddBookComponent Book="_book" OnValidSubmit="AddBookAsync" />

@code {
    private Book _book { get; set; } = new();
    private const string Title = "Add Book";

    private async Task AddBookAsync()
    {
        await BookService.AddAsync(_book);
        NavMan.NavigateTo("/Book/all");
    }
}
